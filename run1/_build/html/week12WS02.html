

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>EOSC 211: Practice with loops, if, strings, fopen, fclose, fprintf, logical indexing &#8212; Eoas 211 test build</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/jupyter-sphinx.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/sphinx-book-theme.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/mystnb.js"></script>
    <script src="_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .secondtoggle, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="&lt;no title&gt;" href="week12WS01.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          

<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  <img src="_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Eoas 211 test build</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  
  <ul class="nav sidenav_l1">
  <li class="">
    <a href="Class2_miniquiz1_withans.html">Name:</a>
  </li>
  <li class="">
    <a href="week01WS01.html">Week01ws01</a>
  </li>
  <li class="">
    <a href="week02WS01.html">Week02ws01</a>
  </li>
  <li class="">
    <a href="week02WS02.html">Week02ws02</a>
  </li>
  <li class="">
    <a href="week03_miniquiz1.html">Week03 Miniquiz1</a>
  </li>
  <li class="">
    <a href="week08-worksheet1.html">Exercise 1: Write a function called sqrtsum that takes as input two arbitrary real numbers, x1 and x2 and returns two parameters: the sum of x1 and x2 and the square root of the sum of x1 and x2 (use the built-in matlab function sqrt). Include help lines that specify what the function does, and what the input and output arguments are.</a>
  </li>
  <li class="">
    <a href="week09preQuiz.html">Week09prequiz</a>
  </li>
  <li class="">
    <a href="week11WS01.html">Week11ws01</a>
  </li>
  <li class="">
    <a href="week11WS4A3.html">Week11ws4a3</a>
  </li>
  <li class="active">
    <a href="">Week12ws02</a>
  </li>
</ul>
</nav>
<p class="navbar_footer">Powered by <a href="https://jupyterbook.org">Jupyter Book</a></p>
</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse" data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu" aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation" title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        <div class="dropdown-buttons-trigger">
            <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i class="fas fa-download"></i></button>

            
            <div class="dropdown-buttons">
                <!-- ipynb file if we had a myst markdown file -->
                
                <!-- Download raw file -->
                <a class="dropdown-buttons" href="_sources/week12WS02.md.txt"><button type="button" class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip" data-placement="left">.md</button></a>
                <!-- Download PDF via print -->
                <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF" onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
            </div>
            
        </div>

        <!-- Edit this page -->
        

        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->
        

        
    </div>
    <div class="d-none d-md-block col-md-2 bd-toc show">

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
    </ul>
</nav>


    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="eosc-211-practice-with-loops-if-strings-fopen-fclose-fprintf-logical-indexing">
<h1>EOSC 211: Practice with loops, if, strings, fopen, fclose, fprintf, logical indexing<a class="headerlink" href="#eosc-211-practice-with-loops-if-strings-fopen-fclose-fprintf-logical-indexing" title="Permalink to this headline">¶</a></h1>
<p><strong>Group #: _______ Name:
___________________________________________________________</strong></p>
<p><strong>File handling is a very important capability in data analysis. Here’s
an example of a common type of situation:</strong></p>
<p>You have a set of files containing pairs of measurements of magnetic
field strength taken 20 times per second continuously. The data are
organized such that there is one file per day for everyu day in the year
and each file contains two columns: time in seconds and magnetic field
strength in nT. You can call these variables TIME and BMAG. Assume that
the files are named as follows <em>mag001.dat, mag002.dat</em> … through to the
file for Dec 31<sup>st</sup>, <em>mag365.dat</em></p>
<p>You want to do some analyses of data taken each day but only inside a
time interval that is specific to each day. e.g., you want to find the
maximum magnetic field in a given time interval, and you want to output
the day, the maximum field and the time (in seconds) at which this
occurs, to a file called <em>maxmag.out</em>. The time interval to be analyzed
each day is given by a start time and end time that are kept in another
file called <em>crossings.dat.</em> This has 3 columns of data: the first
contains the day-of-the-year i.e. 1 thru 365 (call this DOY), the second
contains the start time (call this TIN) and 3<sup>rd</sup> contains the
end time (call this TOUT) in seconds.</p>
<ol class="simple">
<li><p>First write down a procedure/algorithm for doing this. Don’t write
full matlab code – write a flow chart, or shorthand code or whatever
works for you to map out your plan-of-attack…. Remember: What are
the inputs / outputs? What are the repetition / selection parts of
this problem?</p></li>
</ol>
<blockquote>
<div><p>HINT: Often it helps to first solve a simpler problem – e.g. what if
you had a data file for one day only? Break the problem down into
pieces and see if you can write the algorithm just for this one day of
data.</p>
</div></blockquote>
<ol class="simple">
<li><p>Write the code to load the content of one of these files (e.g.
mag001.dat) into a variable called bdata. Because we are going to do
this again and again for different filenames it will be easiest to
load a file whose file name is in contained in a string variable
strfil so first assign the file name to this variable.</p></li>
<li><p>Recall: you can turn a number into a string using num2str, and you
can concatenate 2 strings using strcat or [str1 str2]. Use a loop
to successively replace the contents of strfil with the filenames
for days 100 thru 365.</p></li>
<li><p>Now include the code needed to include days 1 thru 365 in the loop
and replace the contents of strfil with the filename for any day of
the year. Be careful because the filenames for days 1 thru 9 are
e.g. <em>mag001.dat</em>, and those for days 11 thru 99 are e.g.
<em>mag048.dat</em></p></li>
<li><p>Now imagine that all you wanted to do was to find the maximum
magnetic field value for each day and the time at which this occurs
(i.e. ignore the <em>crossings.dat</em> file for now) and write it to a
file called <em>maxmag.out</em>. Add the code to your loop to open and
close the file <em>maxmag.out</em> (use fopen and fclose) and write out the
DOY, the maximum field for each day, and the time (in seconds) at
which that occurs (use fprintf).</p></li>
<li><p>Now add code that will compute the maximum magnetic field for each
day ONLY between the times given by TIN and TOUT for that day in the
file <em>crossings.dat</em>. USE LOGICAL INDEXING. You will first need to
load the file <em>crossings.dat</em> and to select the appropriate TIN and
TOUT for the day.</p></li>
<li><p>You are done! Finally, look at your code and decide if there are
any parts of it that could be put into functions. If so write down
the function definition line and a short version of the help lines.</p></li>
</ol>
</div>


              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="week12WS01.html" title="previous page">&lt;no title&gt;</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Re-compiled by Andrew Loeppky<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="_static/js/index.js"></script>
    
  </body>
</html>